---
import ThemeToggle from './ThemeToggle.astro';

interface Props { lang?: 'it' | 'en'; }
const { lang = 'it' } = Astro.props;

const homeLink = lang === 'it' ? '/' : '/en';
const portfolioLink = lang === 'it' ? '/#portfolio' : '/en/#portfolio';
const bioLink = lang === 'it' ? '/#bio' : '/en/#bio';
const switchLangLink = lang === 'it' ? '/en' : '/';
const switchLangLabel = lang === 'it' ? 'EN' : 'IT';

const leftMenu = [ 
    { label: 'Portfolio', href: portfolioLink },
    { label: 'Bio', href: bioLink }
];
---

<header class="sticky top-0 z-50 bg-bg-primary transition-colors duration-500 shadow-sm border-b border-black/5 dark:border-white/5">
  
  <div class="max-w-7xl mx-auto px-6 h-20 grid grid-cols-3 items-center">
    
    <nav class="hidden md:block justify-self-start">
        <ul class="flex gap-8 text-sm font-bold uppercase tracking-[0.2em] text-text-muted">
            {leftMenu.map(item => (
            <li>
                <a href={item.href} class="hover:text-text-main transition-colors relative group py-2">
                    {item.label}
                    <span class="absolute bottom-0 left-0 w-0 h-[1px] bg-text-main transition-all duration-300 group-hover:w-full"></span>
                </a>
            </li>
            ))}
        </ul>
    </nav>

    <div class="md:hidden justify-self-start">
        <a href={portfolioLink} class="text-xs font-bold uppercase tracking-widest border border-text-muted/30 text-text-muted px-4 py-1.5 rounded-full hover:bg-text-muted hover:text-white transition-colors">
            Menu
        </a>
    </div>

    <div class="justify-self-center text-center transform hover:scale-105 transition-transform duration-500">
        <a href={homeLink} class="block group">
            <h1 class="text-2xl md:text-3xl font-serif-title text-text-main uppercase tracking-[0.15em]">
                Elena Ghini
            </h1>
        </a>
    </div>

    <div class="justify-self-end flex items-center gap-6 text-text-muted text-sm">
        
        <a href={homeLink} class="md:hidden font-bold uppercase tracking-widest opacity-80">Home</a>

        <a href={switchLangLink} class="font-bold hover:text-text-main transition-colors font-sans tracking-wider">
            {switchLangLabel}
        </a>
        
        <div class="h-4 w-[1px] bg-current opacity-20"></div>
        
        <ThemeToggle />
    </div>

  </div>
</header>